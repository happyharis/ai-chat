(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{89566:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/verify_payment",function(){return n(18882)}])},18882:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return c}});var s=n(85893),i=n(23544),a=n(67294),r=n(24461);n(18688);let l="Something went wrong. Please try again.";var c=!0;t.default=(0,i.withSuperJSONPage)(function(e){let{user:t,serverHostConfig:n,serverOrg:i,roles:c}=e,[u,o]=(0,a.useState)([]),[d,f]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{x(),setInterval(x,2e3)},[]);let x=async()=>{f(!0),m("");try{let e=await fetch("/api/hosted/subscriptions",{headers:{"Content-Type":"application/json"}});if(e.status>=400){let t=await e.json();m(t.userMessage||l),f(!1);return}if(!e.ok){m(l),f(!1);return}let t=await e.json(),n=t.subscriptions;n&&n.length>0&&n.filter(e=>{var t,n;return(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.attributes)||void 0===n?void 0:n.status)==="active"}).length>0&&(window.location.href="/admin/billing")}catch(e){m(l),console.error(e)}f(!1)};return(0,s.jsx)("div",{className:"p-4 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[h&&(0,s.jsx)("div",{className:"px-4 my-10 text-center text-red-500",children:h}),(0,s.jsxs)("div",{className:"flex items-center justify-center text-gray-500 font-semibold text-xl gap-2 my-10",children:[(0,s.jsx)(r.Z,{}),(0,s.jsx)("div",{children:"Verifying..."})]}),(0,s.jsx)("div",{className:"text-sm text-gray-500 my-2",children:"Please wait, this may take up to a minute..."}),(0,s.jsx)("div",{className:"text-sm text-gray-500 my-2",children:"If it takes too long, please contact support."})]})})})}},function(e){e.O(0,[445,617,834,748,767,287,320,774,888,179],function(){return e(e.s=89566)}),_N_E=e.O()}]);